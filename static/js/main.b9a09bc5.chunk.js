(this["webpackJsonpkazprom-test-task"]=this["webpackJsonpkazprom-test-task"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),s=n.n(c),o=n(33),i=n(17),d=n(56),u=(n(96),n(146)),l=n(147),b=n(140),j=n(38),f=n(74),m=n(73),O=Object(j.b)({name:"records",initialState:{records:[],id:0},reducers:{addRecord:function(e,t){var n=t.payload,r=e.records;e.records=[].concat(Object(m.a)(r),[n])},removeRecord:function(e,t){e.records=e.records.filter((function(t,n){return n!==e.id}))},setSelectedId:function(e,t){var n=t.payload;e.id=n}}}),h=O.reducer,p=O.actions,x=p.addRecord,g=p.removeRecord,v=p.setSelectedId,y=Object(j.b)({name:"user",initialState:{user:{},fetching:!1,error:{status:!1,message:""}},reducers:{setUser:function(e,t){var n=t.payload;e.user=n.data.user},fetchingRequest:function(e,t){var n=t.payload;e.fetching=n},hasError:function(e,t){var n=t.payload,r=n.status,a=n.message;e.error={status:r,message:a}}}}),k=y.reducer,w=y.actions,C=w.setUser,R=w.fetchingRequest,S=w.hasError,N={mainReducer:h,userReducer:k},E=n(24),I=n.n(E),A=n(25),F=n(71),U=n(72),q=I.a.mark(T),z=I.a.mark(X),D=new function e(){var t=this;Object(U.a)(this,e),this._url="https://graphqlzero.almansi.me/api",this._getRandomId=function(){return Math.ceil(10*Math.random())},this.getUser=Object(F.a)(I.a.mark((function e(){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t._url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({query:"{\n          user(id: ".concat(t._getRandomId(),") {\n            id\n            name\n            email\n            address {\n              geo {\n                lat\n                lng\n              }\n            }\n          }\n        }")})});case 2:if((n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:throw r=e.sent,new Error(r.error.message);case 8:return e.next=10,n.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))};function T(){var e;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(A.c)(S({status:!1,message:""}));case 3:return t.next=5,Object(A.c)(R(!0));case 5:return t.next=7,Object(A.b)(D.getUser);case 7:return e=t.sent,t.next=10,Object(A.c)(C(e));case 10:t.next=17;break;case 12:return t.prev=12,t.t0=t.catch(0),t.t0.message,t.next=17,Object(A.c)(S({status:!0,message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"}));case 17:return t.prev=17,t.next=20,Object(A.c)(R(!1));case 20:return t.finish(17);case 21:case"end":return t.stop()}}),q,null,[[0,12,17,21]])}function X(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.d)("user/getUser",T);case 2:case"end":return e.stop()}}),z)}var H=I.a.mark(W);function W(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([Object(A.b)(X)]);case 2:case"end":return e.stop()}}),H)}var _=Object(f.a)(),B=Object(j.a)({reducer:N,devTools:!1,middleware:function(e){return e().concat(_)}});_.run(W);var J=n(4),M=n(137),$=n(138),G=n(139),L=n(45),P=n(136),Q=Object(P.a)((function(e){var t;return{list:{width:"100%"},listItem:(t={borderRadius:5,animation:"$fade .5s",background:"linear-gradient(62deg, #8EC5FC 0%, #E0C3FC 100%)",boxShadow:"none",transition:"all .3s"},Object(L.a)(t,e.breakpoints.down(600),{borderRadius:0}),Object(L.a)(t,"&:hover",{transform:"scale(1.01)",boxShadow:"0 0 10px rgba(0, 0, 155, .3)"}),t),text:{fontSize:"1.5rem",fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontWeight:400,lineHeight:1.5,letterSpacing:"0.00938em"},empty:{paddingTop:50,paddingBottom:50,fontFamily:"Roboto, Arial, sans-serif",fontSize:50,color:"#bdbdbd"},divider:{backgroundColor:"#000 !important"},selected:{background:"linear-gradient(62deg, #459ff9 0%, #c07eff 100%)",transform:"scale(1.01)",boxShadow:"0 0 10px rgba(0, 0, 155, .3)"},fadeOut:{animation:"$fade-out .3s"},"@keyframes fade":{"0%":{opacity:0,transform:"scaleX(0)"},"100%":{opacity:1,transform:"scaleX(1)"}},"@keyframes fade-out":{"0%":{opacity:1,transform:"scaleX(1)"},"100%":{opacity:0,transform:"scaleX(0)"}}}})),K=(n(98),n(6)),V=Object(r.memo)((function(){var e=Object(r.useState)(0),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(i.c)((function(e){return e})).mainReducer.records,d=Object(i.b)(),u=Q(),l=Object(r.useCallback)((function(){return Object(K.jsx)(M.a,{className:u.list,children:s.map((function(e,t){return Object(K.jsx)(a.a.Fragment,{children:Object(K.jsx)($.a,{disableRipple:!0,className:u.listItem,classes:{divider:u.divider,selected:u.selected},component:"li",selected:n===t,onClick:function(){return c(e=t),void d(v(e));var e},button:!0,divider:!0,children:Object(K.jsx)(G.a,{disableTypography:!0,classes:{root:u.text},primary:e})})},t)}))})}),[s,n]);return s.length?l():Object(K.jsx)(b.a,{className:Object(J.a)("d-flex"," justify-content-center",u.empty),children:"\u041d\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0435\u0439"})})),Y=n(141),Z=Object(P.a)((function(e){return{btnAdd:{marginRight:20}}})),ee=function(e){var t=e.openAddDialog,n=e.openRemoveDialog,r=Z(),a=Object(i.c)((function(e){return e})).mainReducer.records;return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(Y.a,{className:r.btnAdd,onClick:t,variant:"contained",color:"primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(K.jsx)(Y.a,{onClick:n,variant:"contained",color:"secondary",disabled:!Boolean(a.length),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})},te=Object(P.a)((function(e){return{button:{backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}}}})),ne=function(){var e=te(),t=Object(i.b)(),n=Object(i.c)((function(e){return e})).userReducer,a=n.fetching,c=n.user,s=n.error,o=Object(d.b)(),u=o.enqueueSnackbar,l=o.closeSnackbar,b=function(e){return Object(K.jsx)(Y.a,{style:{color:"#fff"},onClick:function(){l(e)},children:"X"})};return Object(r.useEffect)((function(){if(c.name&&!s.status){var e=Object(K.jsxs)("div",{children:[Object(K.jsxs)("div",{children:["\u0438\u043c\u044f: ",c.name]}),Object(K.jsxs)("div",{children:["email: ",c.email]})]});u(e,{action:b})}}),[c]),Object(r.useEffect)((function(){s.status&&u(s.message,{variant:"error",autoHideDuration:2e3,action:b})}),[s]),Object(K.jsx)(Y.a,{className:e.button,variant:"contained",onClick:function(){t({type:"user/getUser"})},disabled:a,children:a?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0422\u0435\u0441\u0442 GraphQL"})},re=n(150),ae=n(143),ce=n(144),se=n(148),oe=n(145),ie=function(e){var t=e.open,n=e.onClose,a=Object(r.useState)(""),c=Object(o.a)(a,2),s=c[0],d=c[1],u=Object(i.b)();return Object(K.jsxs)(re.a,{open:t,onClose:n,fullWidth:!0,children:[Object(K.jsx)(ae.a,{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"}),Object(K.jsxs)(ce.a,{children:[Object(K.jsx)(se.a,{value:s,onChange:function(e){d(e.target.value)},autoFocus:!0,margin:"dense",id:"name",label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",type:"text",fullWidth:!0}),Object(K.jsxs)(oe.a,{children:[Object(K.jsx)(Y.a,{onClick:n,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(K.jsx)(Y.a,{onClick:function(){""!==s.trim()&&(u(x(s)),d(""),n())},color:"primary",children:"\u041ek"})]})]})]})},de=function(e){var t=e.open,n=e.onClose,r=Object(i.b)();return Object(K.jsxs)(re.a,{open:t,onClose:n,fullWidth:!0,children:[Object(K.jsx)(ae.a,{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c?"}),Object(K.jsxs)(oe.a,{children:[Object(K.jsx)(Y.a,{onClick:n,color:"primary",children:"\u041d\u0435\u0442"}),Object(K.jsx)(Y.a,{onClick:function(){r(g()),n()},color:"primary",children:"\u0414\u0430"})]})]})},ue=Object(P.a)((function(e){return{btnAdd:{marginRight:20},wrapper:Object(L.a)({display:"flex",justifyContent:"center",alignItems:"center",width:"90%",minHeight:"90%",padding:"3rem",boxShadow:"0 0 10px rgba(0, 0, 155, .3)",margin:"auto",marginTop:"3rem"},e.breakpoints.down(600),{width:"auto",height:"100%",padding:0,margin:0})}})),le=function(){var e=ue(),t=Object(r.useState)(!1),n=Object(o.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),j=Object(o.a)(s,2),f=j[0],m=j[1];return Object(K.jsx)(i.a,{store:B,children:Object(K.jsxs)(d.a,{children:[Object(K.jsx)("div",{className:e.wrapper,children:Object(K.jsxs)(u.a,{className:"d-flex flex-column justify-content-center",children:[Object(K.jsx)(l.a,{children:Object(K.jsx)(V,{})}),Object(K.jsx)(l.a,{children:Object(K.jsx)(b.a,{className:"d-flex justify-content-center mb-2",children:Object(K.jsx)(ee,{openAddDialog:function(){c(!0)},openRemoveDialog:function(){m(!0)}})})}),Object(K.jsx)(l.a,{children:Object(K.jsx)(b.a,{className:"d-flex justify-content-center",children:Object(K.jsx)(ne,{})})})]})}),Object(K.jsx)(ie,{open:a,onClose:function(){c(!1)}}),Object(K.jsx)(de,{open:f,onClose:function(){m(!1)}})]})})};s.a.render(Object(K.jsx)(le,{}),document.getElementById("root"))},98:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.b9a09bc5.chunk.js.map